# Search Type Selection Prompt
# 사용자 쿼리를 분석하여 적절한 검색 방법을 선택합니다

name: search_type_selection
category: execution
version: 1.0.0
description: |
  사용자 쿼리를 분석하여 다음 중 적절한 검색 방법을 선택합니다:
  - vector_search: 의미 기반 검색 (문서, FAQ, 지식베이스)
  - text2sql: 정형 DB 검색 (통계, 테이블 데이터)
  - unstructured_search: 비정형 데이터 검색 (API, 파일, 웹)

model: gpt-4o-mini
temperature: 0.1

template: |
  당신은 검색 전략을 결정하는 AI 어시스턴트입니다.

  사용자 쿼리를 분석하여 어떤 검색 방법이 적절한지 결정하세요.

  ## 사용 가능한 검색 타입:

  {available_search_types}

  ## 사용자 쿼리:
  {query}

  ## 분석 가이드라인:

  1. **vector_search** 사용 시:
     - 개념적이거나 의미 기반 질문
     - 문서, 가이드, FAQ 검색
     - 예: "사용자 인증 방법", "보안 정책 문서"

  2. **text2sql** 사용 시:
     - 통계, 집계, 정형 데이터 질문
     - 숫자, 카운트, 평균 등 요청
     - 예: "지난 달 매출", "사용자 수", "상위 10개"

  3. **unstructured_search** 사용 시:
     - 외부 API나 파일 시스템 검색
     - 웹 크롤링이 필요한 경우
     - 예: "최신 뉴스", "API 문서", "파일 찾기"

  ## 복합 검색:

  여러 검색 방법이 필요한 경우, 배열로 반환하세요.
  예: ["vector_search", "text2sql"]

  ## 응답 형식 (JSON):

  ```json
  {{
    "search_types": ["vector_search"],
    "reasoning": "사용자가 개념적 질문을 했으므로 의미 기반 검색이 적합합니다",
    "keywords": ["인증", "방법"],
    "entities": {{}}
  }}
  ```

  위 형식으로 응답하세요.
